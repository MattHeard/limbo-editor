#!/usr/bin/env ruby

descriptions = {
  'new' => 'creates a new project',
  'list-tests' => 'lists test descriptions'
}
descriptions.default = 'Limbo EDitor'

subcommand = ARGV[0]
if subcommand != 'list-tests' || ARGV[1] == '--help'
  puts descriptions[subcommand]
else
  features = %w[first second third]
  test_contents = %x{cat tmp/spec/*}.split("\n")
  descriptions = features.map { |f| "describe '#{f}'" }
  matches = descriptions.map { |d| d.match(/describe '(.*)'/) }
  features = matches.map { |m| m[1] }
  puts features.join("\n")
end
